<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide API Biblioth√®que Postman</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Guide API Biblioth√®que</h1>
            <p>Documentation interactive pour votre API Postman Library</p>
        </div>

        <div class="config-section">
            <h2>‚öôÔ∏è Configuration</h2>
            <div class="config-form">
                <div class="form-group">
                    <label for="baseUrl">URL de base de l'API :</label>
                    <input type="text" id="baseUrl" placeholder="https://library-api.postmanlabs.com" value="https://library-api.postmanlabs.com">
                </div>
                <div class="form-group">
                    <label for="apiKey">Cl√© API :</label>
                    <input type="text" id="apiKey" placeholder="postmanrulz" value="postmanrulz">
                </div>
                <div class="note">
                    <strong>üí° Note :</strong> Ces valeurs correspondent aux variables Postman <code>{{baseUrl}}</code> et <code>api-key</code>. Modifiez-les selon votre configuration.
                </div>
            </div>
        </div>

        <div class="content">
            <!-- GET ALL BOOKS -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-title">R√©cup√©rer tous les livres</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te r√©cup√®re la liste compl√®te de tous les livres disponibles dans la biblioth√®que.
                </p>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'books-all-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'books-all-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'books-all-python')">Python</button>
                    </div>

                    <div id="books-all-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X GET "{{baseUrl}}/books" \
  -H "api-key: postmanrulz"</pre>
                        </div>
                    </div>

                    <div id="books-all-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>fetch('{{baseUrl}}/books', {
  method: 'GET',
  headers: {
    'api-key': 'postmanrulz'
  }
})
.then(response => response.json())
.then(data => console.log(data))
.catch(error => console.error('Erreur:', error));</pre>
                        </div>
                    </div>

                    <div id="books-all-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

url = "{{baseUrl}}/books"
headers = {"api-key": "postmanrulz"}

response = requests.get(url, headers=headers)
print(response.json())</pre>
                        </div>
                    </div>
                </div>

                <button class="test-btn" onclick="testEndpoint('GET', '/books')">üß™ Tester cette requ√™te</button>
                <div id="response-books-all" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-books-all-content"></pre>
                    </div>
                </div>
            </div>

            <!-- GET FICTION BOOKS -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-title">R√©cup√©rer les livres de fiction disponibles</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te filtre les livres par genre (fiction) et statut de disponibilit√© (non emprunt√©s).
                </p>

                <h4>Param√®tres de requ√™te :</h4>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Param√®tre</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Exemple</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>genre</code></td>
                            <td>string</td>
                            <td>Le genre du livre</td>
                            <td>fiction</td>
                        </tr>
                        <tr>
                            <td><code>checkedOut</code></td>
                            <td>boolean</td>
                            <td>Statut d'emprunt</td>
                            <td>false</td>
                        </tr>
                    </tbody>
                </table>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'books-fiction-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'books-fiction-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'books-fiction-python')">Python</button>
                    </div>

                    <div id="books-fiction-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X GET "{{baseUrl}}/books?genre=fiction&checkedOut=false" \
  -H "api-key: postmanrulz"</pre>
                        </div>
                    </div>

                    <div id="books-fiction-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>const params = new URLSearchParams({
  genre: 'fiction',
  checkedOut: 'false'
});

fetch(`{{baseUrl}}/books?${params}`, {
  method: 'GET',
  headers: {
    'api-key': 'postmanrulz'
  }
})
.then(response => response.json())
.then(data => console.log(data));</pre>
                        </div>
                    </div>

                    <div id="books-fiction-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

url = "{{baseUrl}}/books"
headers = {"api-key": "postmanrulz"}
params = {"genre": "fiction", "checkedOut": "false"}

response = requests.get(url, headers=headers, params=params)
print(response.json())</pre>
                        </div>
                    </div>
                </div>

                <button class="test-btn" onclick="testEndpoint('GET', '/books?genre=fiction&checkedOut=false')">üß™ Tester cette requ√™te</button>
                <div id="response-books-fiction" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-books-fiction-content"></pre>
                    </div>
                </div>
            </div>

            <!-- GET BOOK BY ID -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-title">R√©cup√©rer un livre par son ID</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te r√©cup√®re les d√©tails d'un livre sp√©cifique en utilisant son identifiant unique.
                </p>

                <div class="note">
                    <strong>üìù Important :</strong> Remplacez <code>:id</code> par l'ID r√©el du livre que vous souhaitez r√©cup√©rer.
                </div>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'book-id-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'book-id-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'book-id-python')">Python</button>
                    </div>

                    <div id="book-id-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X GET "{{baseUrl}}/books/d3fb3318-0dcd-4c21-8a64-f779c419fbdf" \
  -H "api-key: postmanrulz"</pre>
                        </div>
                    </div>

                    <div id="book-id-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>const bookId = 'd3fb3318-0dcd-4c21-8a64-f779c419fbdf';

fetch(`{{baseUrl}}/books/${bookId}`, {
  method: 'GET',
  headers: {
    'api-key': 'postmanrulz'
  }
})
.then(response => response.json())
.then(data => console.log(data));</pre>
                        </div>
                    </div>

                    <div id="book-id-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

book_id = "d3fb3318-0dcd-4c21-8a64-f779c419fbdf"
url = f"{{baseUrl}}/books/{book_id}"
headers = {"api-key": "postmanrulz"}

response = requests.get(url, headers=headers)
print(response.json())</pre>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 15px;">
                    <label for="bookIdInput" style="font-weight: 600; display: block; margin-bottom: 5px;">ID du livre :</label>
                    <input type="text" id="bookIdInput" placeholder="Entrez l'ID du livre" 
                           style="padding: 10px; border: 2px solid #ddd; border-radius: 5px; width: 100%; max-width: 400px;">
                </div>

                <button class="test-btn" onclick="testBookById()">üß™ Tester cette requ√™te</button>
                <div id="response-book-id" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-book-id-content"></pre>
                    </div>
                </div>
            </div>

            <!-- ADD BOOK -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-title">Ajouter un nouveau livre</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te ajoute un nouveau livre √† la biblioth√®que. L'API retourne l'ID du livre cr√©√©.
                </p>

                <h4>Corps de la requ√™te (JSON) :</h4>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Champ</th>
                            <th>Type</th>
                            <th>Requis</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>title</code></td>
                            <td>string</td>
                            <td>‚úÖ</td>
                            <td>Titre du livre</td>
                        </tr>
                        <tr>
                            <td><code>author</code></td>
                            <td>string</td>
                            <td>‚úÖ</td>
                            <td>Auteur du livre</td>
                        </tr>
                        <tr>
                            <td><code>genre</code></td>
                            <td>string</td>
                            <td>‚úÖ</td>
                            <td>Genre du livre</td>
                        </tr>
                        <tr>
                            <td><code>yearPublished</code></td>
                            <td>number</td>
                            <td>‚úÖ</td>
                            <td>Ann√©e de publication</td>
                        </tr>
                    </tbody>
                </table>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'add-book-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'add-book-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'add-book-python')">Python</button>
                    </div>

                    <div id="add-book-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X POST "{{baseUrl}}/books" \
  -H "api-key: postmanrulz" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Rich Dad Poor Dad",
    "author": "Robert Kiyosaki",
    "genre": "finance",
    "yearPublished": 1997
  }'</pre>
                        </div>
                    </div>

                    <div id="add-book-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>const bookData = {
  title: "Rich Dad Poor Dad",
  author: "Robert Kiyosaki",
  genre: "finance",
  yearPublished: 1997
};

fetch('{{baseUrl}}/books', {
  method: 'POST',
  headers: {
    'api-key': 'postmanrulz',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(bookData)
})
.then(response => response.json())
.then(data => {
  console.log('Livre cr√©√© avec ID:', data.id);
});</pre>
                        </div>
                    </div>

                    <div id="add-book-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

url = "{{baseUrl}}/books"
headers = {
    "api-key": "postmanrulz",
    "Content-Type": "application/json"
}
data = {
    "title": "Rich Dad Poor Dad",
    "author": "Robert Kiyosaki",
    "genre": "finance",
    "yearPublished": 1997
}

response = requests.post(url, headers=headers, json=data)
print(f"Livre cr√©√© avec ID: {response.json()['id']}")</pre>
                        </div>
                    </div>
                </div>

                <div class="note">
                    <strong>üí° Astuce Postman :</strong> Dans votre collection, un script de test sauvegarde automatiquement l'ID du livre cr√©√© dans une variable <code>{{id}}</code> pour l'utiliser dans les requ√™tes suivantes.
                </div>

                <button class="test-btn" onclick="testEndpoint('POST', '/books', {title: 'Livre Test', author: 'Auteur Test', genre: 'test', yearPublished: 2024})">üß™ Tester cette requ√™te</button>
                <div id="response-add-book" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-add-book-content"></pre>
                    </div>
                </div>
            </div>

            <!-- CHECKOUT BOOK -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method patch">PATCH</span>
                    <span class="endpoint-title">Emprunter un livre</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te marque un livre comme emprunt√© en modifiant son statut <code>checkedOut</code>.
                </p>

                <h4>Corps de la requ√™te (JSON) :</h4>
                <div class="code-block">
                    <pre>{
  "checkedOut": true
}</pre>
                </div>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'checkout-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'checkout-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'checkout-python')">Python</button>
                    </div>

                    <div id="checkout-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X PATCH "{{baseUrl}}/books/{{id}}" \
  -H "api-key: postmanrulz" \
  -H "Content-Type: application/json" \
  -d '{"checkedOut": true}'</pre>
                        </div>
                    </div>

                    <div id="checkout-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>const bookId = 'votre-book-id';

fetch(`{{baseUrl}}/books/${bookId}`, {
  method: 'PATCH',
  headers: {
    'api-key': 'postmanrulz',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ checkedOut: true })
})
.then(response => response.json())
.then(data => console.log('Livre emprunt√©:', data));</pre>
                        </div>
                    </div>

                    <div id="checkout-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

book_id = "votre-book-id"
url = f"{{baseUrl}}/books/{book_id}"
headers = {
    "api-key": "postmanrulz",
    "Content-Type": "application/json"
}
data = {"checkedOut": True}

response = requests.patch(url, headers=headers, json=data)
print("Livre emprunt√©:", response.json())</pre>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 15px;">
                    <label for="checkoutIdInput" style="font-weight: 600; display: block; margin-bottom: 5px;">ID du livre √† emprunter :</label>
                    <input type="text" id="checkoutIdInput" placeholder="Entrez l'ID du livre" 
                           style="padding: 10px; border: 2px solid #ddd; border-radius: 5px; width: 100%; max-width: 400px;">
                </div>

                <button class="test-btn" onclick="testCheckout()">üß™ Tester cette requ√™te</button>
                <div id="response-checkout" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-checkout-content"></pre>
                    </div>
                </div>
            </div>

            <!-- DELETE BOOK -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-title">Supprimer un livre</span>
                </div>
                <p class="endpoint-description">
                    Cette requ√™te supprime d√©finitivement un livre de la biblioth√®que.
                </p>

                <div class="note">
                    <strong>‚ö†Ô∏è Attention :</strong> Cette action est irr√©versible. Assurez-vous de vouloir supprimer le livre avant d'ex√©cuter cette requ√™te.
                </div>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(event, 'delete-curl')">cURL</button>
                        <button class="tab" onclick="switchTab(event, 'delete-js')">JavaScript</button>
                        <button class="tab" onclick="switchTab(event, 'delete-python')">Python</button>
                    </div>

                    <div id="delete-curl" class="tab-content active">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>curl -X DELETE "{{baseUrl}}/books/{{id}}" \
  -H "api-key: postmanrulz"</pre>
                        </div>
                    </div>

                    <div id="delete-js" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>const bookId = 'votre-book-id';

fetch(`{{baseUrl}}/books/${bookId}`, {
  method: 'DELETE',
  headers: {
    'api-key': 'postmanrulz'
  }
})
.then(response => {
  if (response.ok) {
    console.log('Livre supprim√© avec succ√®s');
  }
});</pre>
                        </div>
                    </div>

                    <div id="delete-python" class="tab-content">
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                            <pre>import requests

book_id = "votre-book-id"
url = f"{{baseUrl}}/books/{book_id}"
headers = {"api-key": "postmanrulz"}

response = requests.delete(url, headers=headers)
if response.ok:
    print("Livre supprim√© avec succ√®s")</pre>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 15px;">
                    <label for="deleteIdInput" style="font-weight: 600; display: block; margin-bottom: 5px;">ID du livre √† supprimer :</label>
                    <input type="text" id="deleteIdInput" placeholder="Entrez l'ID du livre" 
                           style="padding: 10px; border: 2px solid #ddd; border-radius: 5px; width: 100%; max-width: 400px;">
                </div>

                <button class="test-btn" onclick="testDelete()">üß™ Tester cette requ√™te</button>
                <div id="response-delete" class="response-container" style="display: none;">
                    <div class="response-title">R√©ponse :</div>
                    <div class="code-block">
                        <pre id="response-delete-content"></pre>
                    </div>
                </div>
            </div>

            <!-- WORKFLOW SECTION -->
            <div class="endpoint" style="border-left-color: #28a745;">
                <div class="endpoint-header">
                    <span style="font-size: 2em;">üîÑ</span>
                    <span class="endpoint-title">Workflow typique</span>
                </div>
                <p class="endpoint-description">
                    Voici un exemple de flux de travail complet pour g√©rer les livres :
                </p>

                <div style="background: white; padding: 20px; border-radius: 8px; margin-top: 15px;">
                    <ol style="line-height: 2; color: #333;">
                        <li><strong>Lister tous les livres</strong> ‚Üí <code>GET /books</code></li>
                        <li><strong>Filtrer les livres disponibles</strong> ‚Üí <code>GET /books?genre=fiction&checkedOut=false</code></li>
                        <li><strong>Ajouter un nouveau livre</strong> ‚Üí <code>POST /books</code> (sauvegardez l'ID retourn√©)</li>
                        <li><strong>Consulter le livre ajout√©</strong> ‚Üí <code>GET /books/:id</code></li>
                        <li><strong>Emprunter le livre</strong> ‚Üí <code>PATCH /books/:id</code> avec <code>{"checkedOut": true}</code></li>
                        <li><strong>Retourner le livre</strong> ‚Üí <code>PATCH /books/:id</code> avec <code>{"checkedOut": false}</code></li>
                        <li><strong>Supprimer le livre</strong> ‚Üí <code>DELETE /books/:id</code></li>
                    </ol>
                </div>
            </div>

            <!-- TIPS SECTION -->
            <div class="endpoint" style="border-left-color: #ffc107;">
                <div class="endpoint-header">
                    <span style="font-size: 2em;">üí°</span>
                    <span class="endpoint-title">Conseils et bonnes pratiques</span>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin-top: 15px;">
                    <h4 style="margin-bottom: 15px; color: #333;">Variables Postman :</h4>
                    <ul style="line-height: 2; color: #666;">
                        <li><code>{{baseUrl}}</code> : L'URL de base de votre API</li>
                        <li><code>{{id}}</code> : L'ID du dernier livre cr√©√© (automatiquement sauvegard√©)</li>
                        <li><code>{{favoriteActor}}</code> : Variable utilis√©e dans le skill check</li>
                    </ul>

                    <h4 style="margin-top: 25px; margin-bottom: 15px; color: #333;">Authentification :</h4>
                    <p style="color: #666; line-height: 1.8;">
                        Toutes les requ√™tes n√©cessitent l'en-t√™te <code>api-key: postmanrulz</code>. 
                        Dans Postman, ceci est configur√© au niveau de la collection pour √©viter de le r√©p√©ter.
                    </p>

                    <h4 style="margin-top: 25px; margin-bottom: 15px; color: #333;">Scripts de test :</h4>
                    <p style="color: #666; line-height: 1.8;">
                        La requ√™te "add book" contient un script de test qui extrait automatiquement l'ID 
                        du livre cr√©√© et le sauvegarde dans <code>{{id}}</code> pour une utilisation ult√©rieure.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>